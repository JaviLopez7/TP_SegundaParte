<!-- Navbar fija -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary bg-opacity-75 shadow fixed-top">
  <div class="container">
    <a class="navbar-brand fw-bold" routerLink="/gestion">Gestión</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav gap-2">
        <li class="nav-item">
          <a class="btn btn-outline-light" routerLink="/gestion-producto">Gestión de Productos</a>
        </li>
        <li class="nav-item">
          <a class="btn btn-outline-light" routerLink="/factura-carrito">Gestión de Facturación</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Contenedor principal con fondo y espaciado para navbar -->
<div class="container-fluid d-flex justify-content-center align-items-start pt-5 mt-5"
     style="background: url('URL_DE_TU_IMAGEN') no-repeat center center; background-size: cover; min-height: 100vh;">
  <div class="card shadow-lg bg-light bg-opacity-75 p-4 w-100" style="max-width: 1000px;">
    <h2 class="text-center mb-4">Seleccione el producto a eliminar</h2>

    <table class="table table-hover table-bordered align-middle text-center shadow-sm">
      <thead class="table-primary">
        <tr>
          <th>Nombre</th>
          <th>Categoría</th>
          <th>Precio</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of productos">
          <td>{{ producto.nombre }}</td>
          <td>{{ producto.categoria }}</td>
          <td>{{ producto.precio | currency:'ARS' }}</td>
          <td class="text-center">
            <div class="d-flex justify-content-center">
              <button class="btn btn-outline-danger btn-sm d-flex align-items-center gap-1"
                      (click)="prepararEliminacion(producto)">
                <i class="bi bi-trash-fill"></i>
                Eliminar
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Modal de confirmación -->
<div *ngIf="productoAEliminar" class="custom-modal-backdrop">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow-lg">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          Confirmar eliminación
        </h5>
        <button type="button" class="btn-close" aria-label="Cerrar" (click)="cancelarEliminacion()"></button>
      </div>
      <div class="modal-body">
        <p>¿Está seguro que desea eliminar <strong>"{{ productoAEliminar.nombre }}"</strong>?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" (click)="confirmarEliminacion()" [disabled]="eliminando">
          <i class="bi bi-trash3"></i>
          {{ eliminando ? 'Eliminando...' : 'Confirmar' }}
        </button>
        <button class="btn btn-secondary" (click)="cancelarEliminacion()">
          <i class="bi bi-x-circle"></i>
          Cancelar
        </button>
      </div>
    </div>
  </div>
</div>

